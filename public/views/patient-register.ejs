<%- include('./partials/header') %>
<br />
<div class="container">
<div class="row">
</div>
  <div class="row">
    <div class="col-2">
      <a href="./register" class="btn btn-outline-primary">
        <i class="fas fa-chevron-left"></i>
      </a>
    </div>
    <div class="col-5">
      <h3>Patient Registeration</h3>
    </div>
  </div>
  <%- include('./partials/messages') %>
  <hr />
  <form action="/auth/patient" method="POST" class="w-75">
    <div class="form-group">
      <label for="user_key">User Key</label>
      <div class="row">
        <div class="col-9">
        <% var key; %>
          <input
            type="text"
            name="user_key"
            id="user_key"
            class="form-control"
            value= "<%= key %>"
            readonly
          />
        </div>
        <%- include('partials/qr-code') %>
      </div>
      <div class="alert alert-primary">
        <strong
          ><i class="fas fa-info-circle"></i> Info: <br />
          Auto-generated <br />
          To be saved for later access.. <br />
          Do not lose it
        </strong>
      </div>
    </div>
    
    <div class="form-group">
      <label for="PID">PID</label>
      <div class="row">
        <div class="col-9">
          <input
            type="text"
            name="PID"
            id="PID"
            class="form-control"
            value= "<%= PID %>"
            readonly
          />
        </div>
        <%- include('partials/qr-code2') %>
      </div>
      <div class="alert alert-primary">
        <strong
          ><i class="fas fa-info-circle"></i> Info: <br />
          Auto-generated <br />
          To be able to recieve messages and requests.. <br />
          Do not lose it
        </strong>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        name="email"
        id="email"
        class="form-control"
        placeholder="Email"
        value="<%= typeof email != 'undefined' ? email : '' %>"
        required
      />
    </div>

    <div class="form-group">
      <label for="email">First Name</label>
      <input
        type="text"
        name="firstName"
        id="firstName"
        class="form-control"
        placeholder="First Name"
        value="<%= typeof firstName != 'undefined' ? firstName : '' %>"
        required
      />
    </div>
    
    <div class="form-group">
      <label for="email">Last Name</label>
      <input
        type="text"
        name="lastName"
        id="lastName"
        class="form-control"
        placeholder="Last Name"
        value="<%= typeof lastName != 'undefined' ? lastName : '' %>"
        required
      />
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="password"
        name="password"
        id="password"
        class="form-control"
        placeholder="Password"
        value="<%= typeof password != 'undefined' ? password : '' %>"
        required
      />
      <div class="alert alert-warning">
        <strong
          ><i class="fas fa-exclamation-triangle"></i> Warning: Password</strong
        >
        should contain atleast 1 letter and 1 special character
      </div>
    </div>

    <div class="form-group">
      <label for="confirm-password">Confirm Password</label>
      <input
        type="password"
        name="password2"
        id="password2"
        class="form-control"
        placeholder="Password"
        required
      />
    </div>

    <div class="form-group">
      <label for="dob">DOB</label>
      <input
        class="form-control"
        type="date"
        name="dob"
        value="<%= typeof dob != 'undefined' ? dob : '' %>"
        id="dob"
      />
    </div>

    <div class="form-group">
      <label>Gender</label>
      <div class="custom-control custom-radio">
        <input
          type="radio"
          class="custom-control-input"
          id="male-radio"
          name="gender"
          value="Male"
          required
        />
        <label class="custom-control-label" for="male-radio">Male</label>
      </div>
      <div class="custom-control custom-radio">
        <input
          type="radio"
          class="custom-control-input"
          id="female-radio"
          name="gender"
          value="Female"
          required
        />
        <label class="custom-control-label" for="female-radio">Female</label>
      </div>
    </div>

    <div class="form-group">
      <label>Effort</label>
      <div class="custom-control custom-radio">
        <input
          type="radio"
          class="custom-control-input"
          id="low-effort-radio"
          name="effort"
          value="Low"
          required
        />
        <label class="custom-control-label" for="low-effort-radio"
          >Low (I hardly do any activity on a daily basis)</label
        >
      </div>
      <div class="custom-control custom-radio">
        <input
          type="radio"
          class="custom-control-input"
          id="med-effort-radio"
          name="effort"
          value="Med"
          required
        />
        <label class="custom-control-label" for="med-effort-radio"
          >Med (I often do effort on a daily basis including at my work)</label
        >
      </div>
      <div class="custom-control custom-radio">
        <input
          type="radio"
          class="custom-control-input"
          id="high-effort-radio"
          name="effort"
          value="High"
          required
        />
        <label class="custom-control-label" for="high-effort-radio"
          >High (I do high effort daily / I am an active worker)</label
        >
      </div>
    </div>

    <!-- Button trigger modal -->
    <button
      type="button"
      class="btn btn-dark"
      data-toggle="modal"
      data-target="#modal"
    >
      Terms and Conditions
    </button>

    <!-- Modal -->
    <div
      class="modal fade"
      id="modal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">
              Terms and Conditions
            </h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <%- include('partials/terms-and-conditions') %>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-danger" data-dismiss="modal">
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

    <div class="custom-control custom-checkbox">
      <input
        type="checkbox"
        class="custom-control-input"
        id="termsCheck"
        required
      />
      <label class="custom-control-label" for="termsCheck"
        >Agree on Terms and Conditions</label
      >
    </div>
    <br />
    <input type="submit" value="Register" class="btn btn-primary" />
  </form>
  <br />
  <div class="alert alert-warning" hidden>
    <strong
      ><i class="fas fa-exclamation-triangle"></i> Check that all required
      fields are filled in the correct form!</strong
    >
  </div>
  <br />
  <div class="alert alert-warning">
    <strong><i class="fas fa-exclamation-triangle"></i> Warning:</strong> Do not
    share the <strong>User Key</strong> with anyone inside or outside the
    network!
  </div>
</div>
<%- include('./partials/footer') %>
